<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Search Results</title>

    <!-- Favicon links (generated by favicon.io) -->
    <link rel="apple-touch-icon" sizes="180x180" href="./assets/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./assets/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./assets/favicon/favicon-16x16.png">
    <link rel="manifest" href="./assets/favicon/site.webmanifest">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <!-- My personal CSS -->
    <link rel="stylesheet" href="styles/fonts.css">
    <link rel="stylesheet" href="styles/style.css">
    <style>
        body {
            font-family: 'Arial', sans-serif;
        }
        .search-results {
            margin: 2rem 0;
        }
    </style>
</head>
<body>
    <div id="header"></div> <!-- Modify header content in header.html -->

    <div class="container search-results">
        <h1>Search Results</h1>
        <div id="results-container"></div>
    </div>
    
    <script>
        // Dynamically load header
        async function loadHeader() {
            const response = await fetch('header.html');
            const text = await response.text();
            document.getElementById('header-placeholder').innerHTML = text;
        }
        loadHeader();

        // Search logic
        const queryParams = new URLSearchParams(window.location.search);
        const query = queryParams.get('query');
        const resultsContainer = document.getElementById('results-container');

        const pages = [
            { name: "Home", url: "index.html", content: "Welcome to the homepage of the site!" },
            { name: "Passage Search", url: "bible-search.html", content: "Search for a Bible verse or passage in any of multiple translations." },
            { name: "Bible Memory", url: "bible-memory.html", content: "Work on your Scripture memorization!" },
            { name: "Verse Vault", url: "verse-vault.html", content: "Look up Bible passages recommended to be memorized." },
            { name: "Medicine", url: "medicine.html", content: "Learn more about medicine and human pathophysiology." },
            { name: "Music", url: "music.html", content: "Discover the latest and best in music." },
            { name: "Wikipedia", url: "wikipedia.html", content: "Read interesting Wikipedia articles and learn more about the world." },
            { name: "Books", url: "books.html", content: "Browse our recommended book lists." },
            { name: "Writing", url: "writing.html", content: "Read, write, and be inspired." },
            { name: "Notes", url: "notes.html", content: "Jot down, save, and export your personal notes." },
            { name: "Contact", url: "contact.html", content: "Learn how to get in touch with us." },
            // Add more pages with descriptions here
            // See app.js for an updated list of pages
        ];

        function searchSite(query) {
            if (!query) {
                resultsContainer.innerHTML = "<p>Please enter a search term.</p>";
                return;
            }

            const lowerQuery = query.toLowerCase();
            const results = pages.filter(page => 
                page.name.toLowerCase().includes(lowerQuery) || 
                page.content.toLowerCase().includes(lowerQuery)
            );

            if (results.length > 0) {
                resultsContainer.innerHTML = results.map(result => `
                    <div class="card my-3">
                        <div class="card-body">
                            <h5 class="card-title">${result.name}</h5>
                            <p class="card-text">${result.content}</p>
                            <a href="${result.url}" class="btn btn-primary">Visit Page</a>
                        </div>
                    </div>
                `).join('');
            } else {
                resultsContainer.innerHTML = "<p>No results found for your query.</p>";
            }
        }

        searchSite(query);
    </script>

    <div id="footer"></div> <!-- Modify footer content in footer.html -->

    <!-- Bootstrap JS (includes Popper.js and Bootstrap JS) -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>

    <!-- My personal JS -->
    <script src="scripts/app.js" defer></script>
</body>
</html>