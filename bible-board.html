<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <title>
            Bible Board
        </title>

        <!-- Favicon links (generated by favicon.io) -->
        <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon/favicon-16x16.png">
        <link rel="manifest" href="/assets/favicon/site.webmanifest">

        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

        <!-- My personal CSS -->
        <link rel="stylesheet" href="/styles/fonts.css">
        <link rel="stylesheet" href="/styles/style.css">
        <!-- Add additional stylesheets here to override original styles as needed -->
        <style>
            .kanban-col {
              min-height: 300px;
              background-color: #f8f9fa;
              border: 1px solid #dee2e6;
              border-radius: 0.25rem;
              padding: 0.5rem;
            }
            .kanban-card {
              margin-bottom: 0.5rem;
              cursor: move;
            }
            /* Highlight drop target */
            .drop-target {
              border: 2px dashed #0d6efd;
            }

            .navbar-brand-kanban {
                font-family: 'Playfair Display', serif;
                font-size: 1.5rem;
                color: var(--primary-color) !important;
            }

            /* Force all words to remain on a single line (i.e., no text wrapping) */
            .btn-no-wrap {
                white-space: nowrap;
            }

            .btn-tiny {
                padding: 0.25rem 0.5rem; /* Adjust vertical and horizontal padding */
                font-size: 0.8rem;       /* Smaller text */
                line-height: 1;          /* Tighter line-height */
                border-radius: 0.2rem;   /* Slightly smaller border radius */
            }

        </style>        
    </head>
    <body>
        <div id="header"></div> <!-- Modify header content in header.html -->

        
        <nav class="navbar navbar-expand-lg navbar-light bg-light px-3 mb-3">
            <a class="navbar-brand navbar-brand-kanban" href="#">Memorization Kanban [看板]</a>
            <div class="ms-auto d-flex align-items-center gap-2">
              <!-- Bible version select -->
              <select id="bibleVersionSelect" class="form-select form-select-sm">
                <option value="ESV">ESV</option>
                <option value="KJV">KJV</option>
                <option value="NASB">NASB</option>
                <option value="NIV">NIV</option>
                <option value="NKJV">NKJV</option>
                <option value="Other">Other</option>
              </select>
              <input type="text" id="customVersionInput" class="form-control form-control-sm" placeholder="Enter version" style="display: none; max-width: 175px;">
              <!-- Buttons for adding verses -->
              <button class="btn btn-sm btn-primary btn-no-wrap" id="addFromVaultBtn" data-bs-toggle="modal" data-bs-target="#vaultModal">Add from Verse Vault</button>
              <button class="btn btn-sm btn-secondary btn-no-wrap" id="addCustomBtn" data-bs-toggle="modal" data-bs-target="#customModal">Add Custom Passage</button>
              <!-- Export/Import -->
              <button class="btn btn-sm btn-outline-success" id="exportBtn">Export</button>
              <button class="btn btn-sm btn-outline-info" id="importBtn" data-bs-toggle="modal" data-bs-target="#importModal">Import</button>
            </div>
        </nav>

        
        <!-- Kanban Board -->
        <div class="container mb-4">
            <div class="row">
            <!-- To Do Column -->
            <div class="col-md-4">
                <h5>To Do</h5>
                <div id="todoList" class="kanban-col" data-status="todo"></div>
            </div>
            <!-- In Progress Column -->
            <div class="col-md-4">
                <h5>In Progress</h5>
                <div id="inProgressList" class="kanban-col" data-status="inprogress"></div>
            </div>
            <!-- Done Column -->
            <div class="col-md-4">
                <h5>Done</h5>
                <div id="doneList" class="kanban-col" data-status="done"></div>
            </div>
            </div>
        </div>

        <!-- Modal: Add from Vault -->
        <div class="modal fade" id="vaultModal" tabindex="-1" aria-labelledby="vaultModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                <h5 class="modal-title" id="vaultModalLabel">Select Passages from Verse Vault</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="vaultList" style="max-height:400px; overflow-y:auto;">
                <!-- The default passages will be dynamically inserted here -->
                </div>
                <div class="modal-footer">
                <button type="button" id="vaultAddSelected" class="btn btn-primary" data-bs-dismiss="modal">Add Selected</button>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                </div>
            </div>
            </div>
        </div>

        <!-- Modal: Add Custom Passage -->
        <div class="modal fade" id="customModal" tabindex="-1" aria-labelledby="customModalLabel" aria-hidden="true">
            <div class="modal-dialog">
            <form id="customForm" class="modal-content">
                <div class="modal-header">
                <h5 class="modal-title" id="customModalLabel">Add Custom Passage</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                <div class="mb-3">
                    <label for="customReference" class="form-label">Reference</label>
                    <input type="text" class="form-control" id="customReference" required>
                </div>
                <div class="mb-3">
                    <label for="customText" class="form-label">Passage Text</label>
                    <textarea class="form-control" id="customText" rows="3" required></textarea>
                </div>
                <div class="mb-3">
                    <label for="customVersion" class="form-label">Version</label>
                    <input type="text" class="form-control" id="customVersion" placeholder="e.g., ESV">
                </div>
                </div>
                <div class="modal-footer">
                <button type="submit" class="btn btn-primary">Add Passage</button>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                </div>
            </form>
            </div>
        </div>

        <!-- Modal: Import Data -->
        <div class="modal fade" id="importModal" tabindex="-1" aria-labelledby="importModalLabel" aria-hidden="true">
            <div class="modal-dialog">
            <form id="importForm" class="modal-content">
                <div class="modal-header">
                <h5 class="modal-title" id="importModalLabel">Import Data</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                <textarea id="importDataText" class="form-control" rows="5" placeholder='Paste your JSON data here...'></textarea>
                </div>
                <div class="modal-footer">
                <button type="submit" class="btn btn-primary">Import</button>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                </div>
            </form>
            </div>
        </div>


        <div id="footer"></div> <!-- Modify footer content in footer.html -->

        <!-- Bootstrap JS (includes Popper.js and Bootstrap JS) -->
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>

        <!-- My personal JS -->
        <script src="/scripts/app.js" defer></script>

        <!-- Include verse-vault.js (which defines bibleData) -->
        <script src="/scripts/verse-vault.js"></script>

        <script src="/scripts/bible-board.js" defer></script>

        <!-- Add additional JS here as needed -->
    </body>
</html>