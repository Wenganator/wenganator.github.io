<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <title>
            Library
        </title>

        <!-- Favicon links (generated by favicon.io) -->
        <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon/favicon-16x16.png">
        <link rel="manifest" href="/assets/favicon/site.webmanifest">

        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

        <!-- My personal CSS -->
        <link rel="stylesheet" href="/styles/fonts.css">
        <link rel="stylesheet" href="/styles/style.css">
        <!-- Add additional stylesheets here to override original styles as needed -->
        <link rel="stylesheet" href="/styles/library.css">
    </head>
    <body>
        <div id="header"></div> <!-- Modify header content in header.html -->

        <main>
            <div class="container py-4">
                <div class="mb-4">
                    <h1 class="display-4 fw-bold text-center mb-2">Library</h1>
                    <p class="text-center text-muted"><i>·ºòŒΩ ·ºÄœÅœá·øá ·º¶ŒΩ ·ΩÅ ŒªœåŒ≥ŒøœÇ</i></p>
                </div>

                <!-- Stats Bar -->
                <div class="stats-bar">
                    <div class="stat-item" id="totalWorksBtn" data-tooltip="Click to clear filters">
                        <div class="stat-number" id="totalWorks">0</div>
                        <div class="stat-label">Total Works</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="totalAuthors">0</div>
                        <div class="stat-label">Authors</div>
                    </div>
                    <div class="stat-item" id="favoritesBtn" data-tooltip="Click to show favorites">
                        <div class="stat-number" id="favoriteCount">0</div>
                        <div class="stat-label">Favorites ‚ù§Ô∏è</div>
                    </div>
                    <div class="stat-item" id="readBtn" data-tooltip="Click to show read items">
                        <div class="stat-number" id="readCount">0</div>
                        <div class="stat-label">Read ‚úì</div>
                    </div>
                    <div class="stat-item" id="unreadBtn" data-tooltip="Click to show unread items">
                        <div class="stat-number" id="unreadCount">0</div>
                        <div class="stat-label">Unread üìñ</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="readingProgress">0%</div>
                        <div class="stat-label">Progress</div>
                    </div>
                </div>

                <!-- Controls Section -->
                <div class="controls-section">
                    <div class="control-row">
                        <input type="text" class="form-control search-box" id="searchBox" placeholder="Search by title, author, or year...">
                        
                        <select class="form-select" id="sortSelect" style="max-width: 200px;">
                            <option value="title-asc">Title (A-Z)</option>
                            <option value="title-desc">Title (Z-A)</option>
                            <option value="author-asc">Author (A-Z)</option>
                            <option value="author-desc">Author (Z-A)</option>
                            <option value="year-asc">Year (Oldest)</option>
                            <option value="year-desc">Year (Newest)</option>
                        </select>

                        <div class="quick-actions">
                            <button class="btn btn-primary" id="randomBtn" data-tooltip="Show random writing">
                                üé≤ Random
                            </button>
                            <button class="btn btn-outline-primary" id="exportBtn" data-tooltip="Export favorites">
                                üì§ Export
                            </button>
                            <button class="btn btn-outline-warning" id="clearReadBtn" data-tooltip="Clear all read status">
                                üóëÔ∏è Clear Read
                            </button>
                            <button class="btn btn-outline-danger" id="clearFiltersBtn">
                                üîÑ Clear Filters
                            </button>
                        </div>

                        <div class="view-toggle">
                            <button class="btn btn-outline-secondary active" id="gridViewBtn">üìá Grid</button>
                            <button class="btn btn-outline-secondary" id="listViewBtn">üìã List</button>
                            <button class="btn btn-outline-secondary" id="timelineViewBtn">üìÖ Timeline</button>
                        </div>
                    </div>

                    <!-- Active Filters Display -->
                    <div id="activeFilters" style="margin: 10px 0;"></div>

                    <!-- Card Size Control (Grid View Only) -->
                    <div class="control-row" id="cardSizeControl">
                        <label class="fw-bold me-2">Card Size:</label>
                        <div class="btn-group" role="group">
                            <input type="radio" class="btn-check" name="cardSize" id="sizeSmall" value="small">
                            <label class="btn btn-outline-secondary" for="sizeSmall">Small</label>
                            
                            <input type="radio" class="btn-check" name="cardSize" id="sizeMedium" value="medium" checked>
                            <label class="btn btn-outline-secondary" for="sizeMedium">Medium</label>
                            
                            <input type="radio" class="btn-check" name="cardSize" id="sizeLarge" value="large">
                            <label class="btn btn-outline-secondary" for="sizeLarge">Large</label>
                        </div>
                        <small class="text-muted ms-2">(Grid view only)</small>
                    </div>

                    <!-- Category Filter -->
                    <div class="control-row">
                        <label class="fw-bold me-2">Categories:</label>
                        <div class="tags-container" id="categoryTags"></div>
                    </div>

                    <!-- Tag Filter -->
                    <div class="control-row">
                        <label class="fw-bold me-2">Tags:</label>
                        <div class="tags-container" id="tagChips"></div>
                    </div>
                </div>

                <!-- Grid View -->
                <div id="gridView" class="writings-grid size-medium"></div>

                <!-- List View -->
                <div id="listView" class="list-view"></div>

                <!-- Timeline View -->
                <div id="timelineView" class="timeline-view">
                    <div class="timeline-container">
                        <div class="timeline-line"></div>
                        <div class="timeline-items" id="timelineItems"></div>
                    </div>
                </div>

                <!-- No Results -->
                <div id="noResults" class="no-results" style="display: none;">
                    <div style="font-size: 3rem; margin-bottom: 15px;">üìö</div>
                    <h3>No writings found</h3>
                    <p>Try adjusting your filters or search terms</p>
                </div>
            </div>

            <!-- Dark Mode Toggle Button -->
            <button class="dark-mode-toggle" id="darkModeToggle" title="Toggle Dark Mode">
                üåô
            </button>

            <!-- Share Modal -->
            <div class="modal fade" id="shareModal" tabindex="-1">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">Share Writing</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <div class="mb-3">
                                <label class="form-label">Share Link:</label>
                                <div class="input-group">
                                    <input type="text" class="form-control" id="shareLink" readonly>
                                    <button class="btn btn-outline-secondary" id="copyLinkBtn">Copy</button>
                                </div>
                            </div>
                            <div class="d-flex gap-2 justify-content-center">
                                <button class="btn btn-primary" id="shareTwitter">üê¶ Twitter</button>
                                <button class="btn btn-primary" id="shareFacebook">üìò Facebook</button>
                                <button class="btn btn-success" id="shareWhatsApp">üí¨ WhatsApp</button>
                                <button class="btn btn-info" id="shareEmail">üìß Email</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
        </main>

        <div id="footer"></div> <!-- Modify footer content in footer.html -->

        <!-- Bootstrap JS (includes Popper.js and Bootstrap JS) -->
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>

        <!-- My personal JS -->
        <script src="/scripts/app.js" defer></script>
        <!-- Add additional JS here as needed -->
        <script src="/scripts/library.js"></script>
    </body>
</html>